{"version":3,"sources":["images/image.svg","components/Uploader.js","components/Loading.js","components/Uploaded.js","axios.js","App.js","index.js"],"names":["Uploader","setUpload","history","useHistory","useState","isDrag","setIsDrag","isValidImage","file","type","match","uploadImage","image","push","dragHandler","e","preventDefault","dataTransfer","files","length","name","className","onDragEnter","onDragOver","onDragLeave","onDrop","src","uploadimg","alt","htmlFor","accept","id","onChange","FormData","document","forms","get","formUploadHandler","Loading","increment","setIncrement","useEffect","timeout","setTimeout","clearTimeout","style","width","Uploaded","uploadedUrl","substr","concat","onClick","target","innerHTML","blob","Blob","data","ClipboardItem","navigator","clipboard","write","instance","axios","create","baseURL","App","setUploadedUrl","a","formData","append","post","response","url","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.73cd465d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/image.3710b8a3.svg\";","import React, { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport '../css/Uploader.css';\nimport uploadimg from \"../images/image.svg\";\n\n\nfunction Uploader({ setUpload }) {\n\tconst history = useHistory();\n\tconst [isDrag, setIsDrag] = useState(false);\n\n\tconst isValidImage = file => {       \n        if (file.type.match(/image\\/[a-z]*/) != null) {\n            return true\n        }\n    }\n\n\t const formUploadHandler = () => {\n\t\t const image = new FormData(document.forms[0]).get('fileupload');\t\t \n        if (image.name !== \"\" && isValidImage(image)) {\n\t\t\tuploadImage(image);\n\t\t}\n\t }\n\t\n\tconst uploadImage = (image) => {\n\t\t setUpload(image)\n         history.push('/loading')\n\t}\n\t\n\tconst dragHandler = e => {\n        switch (e.type) {\n            case 'dragenter':\n\t\t\t\te.preventDefault(e) \n\t\t\t\tsetIsDrag(true);\n                break;\n\t\t\tcase 'dragover':\n                e.preventDefault(e)\n\t\t\t\tsetIsDrag(true);\n                break;\n            case 'dragleave':\n\t\t\t\te.preventDefault(e)  \n\t\t\t\tsetIsDrag(false);\n                break;\n            case 'drop':\n                setIsDrag(false);\n                if (e.dataTransfer.files.length > 0) {\n                    e.preventDefault(e) \n\t\t\t\t\tconst image = e.dataTransfer.files[0]\n\t\t\t\t\tif (image.name !== \"\" && isValidImage(image)) {\n\t\t\t\t\t\tuploadImage(image);\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n                break;\n            default:\n                return e\n        }\n\t}\n\t\n\treturn (\n\t\t<div className=\"uploader\">\t\t\n\t\t\t<h1>Upload your image</h1>\n\t\t\t<h3>File should be Jpeg, Png,...</h3>\t\t\t\n\t\t\t<div className={\"uploader__container \" + (isDrag ? \" uploader__container-drag\" : \"\")}\n\t\t\t    onDragEnter={e => dragHandler(e)}\n                onDragOver={e => dragHandler(e)}\n                onDragLeave={e => dragHandler(e)}\n                onDrop={e => dragHandler(e)}\n\t\t\t>\t\t\t\t\n\t\t\t\t<img src={uploadimg} alt=\"\" />\n\t\t\t\t<h3 className=\"container__title\">{isDrag}Drag & Drop your image here</h3>\n\t\t\t</div>\t\t\n\t\t\t<span className=\"container__title\">Or</span>\n\t\t\t <form className=\"uploader__form\">\n\t\t\t\t<label htmlFor='fileupload'>\n\t\t\t\t\t<input type='file' accept='image/*'\n\t\t\t\t\t\tid=\"fileupload\" name=\"fileupload\"\n\t\t\t\t\t\tclassName=\"form__file\"\n\t\t\t\t\t\tonChange={() => formUploadHandler()}\n\t\t\t\t\t/>\n\t\t\t\t\tChoose a file\n\t\t\t  </label>                \n            </form>\n\t\t</div>\n\t)\n}\n\nexport default Uploader;\n","import React, { useState, useEffect } from 'react';\nimport \"../css/Loading.css\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Loading() {\n\tconst [increment, setIncrement] = useState(10);\t\n\tconst history = useHistory();\n\n    useEffect(() => {\n\tconst timeout = setTimeout(() => {\n\t\tif (increment === 100) {\n\t\t\thistory.push('/uploaded');\n\t\t\treturn;\t\n\t\t} \n      setIncrement(increment + 10);\n    }, 1000);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [increment, history]);\n\t\t\n\treturn (\n\t\t<div className=\"loading\">\n\t\t\t<h3>Uploading...</h3>\n\t\t\t<div className=\"loading__progress\">\t\t\n\t\t\t\t<div className=\"progress__number\" style={{width : `${increment}%`}}></div>\t\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Loading;\n","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport \"../css/Uploaded.css\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nfunction Uploaded({ uploadedUrl }) {\n\tconst history = useHistory();\n\n\tconst onCopyLink = (e) => {\n\t\tif (e.target.innerHTML === \"Done!\") {\n\t\t\thistory.push(\"/\");\n\t\t} else {\n\t\t\tconst blob = new Blob([uploadedUrl], { type: 'text/plain' });\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tlet data = [new ClipboardItem({ [blob.type]: blob })];\n\t\t\tnavigator.clipboard.write(data)\n\t\t\te.target.innerHTML = \"Done!\"\n\t\t}\n    }\n\treturn (\n\t\t<div className=\"uploaded\">\n\t\t\t<CheckCircleIcon className=\"uploaded__success\" />\n\t\t\t<h4 className=\"success__text\">Uploaded Successfully!</h4>\n\t\t\t<div className=\"uploaded__container\">\n\t\t\t\t<img src={uploadedUrl} alt=\"\" />\t\t\t    \n\t\t\t</div>\t\n\t\t\t<div className=\"uploaded__copy\">\n\t\t\t\t<span>{uploadedUrl?.substr(0, 40).concat(\"......\")}</span>\n\t\t\t\t<button className=\"button__copy\" onClick={onCopyLink}>Copy Link</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Uploaded;\n","import axios from \"axios\";\nconst instance = axios.create({\n  baseURL: \"/api\",\n});\n\nexport default instance;","import React, { useState }from 'react';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route, \n} from \"react-router-dom\";\nimport Uploader from './components/Uploader';\nimport Loading from './components/Loading';\nimport Uploaded from './components/Uploaded';\nimport axios from './axios';\n\nfunction App() {\n  const [uploadedUrl, setUploadedUrl] = useState()\n  \n  const setUpload = async (image = {}) => {     \n     const formData = new FormData() //Sends image as part of from data to avoid wierd Boundry issues when sending multipart/form data when not part of an actual form\n     formData.append('file', image)\n     const response = await axios.post('/upload', formData);\n     setUploadedUrl(response.data.url);\n   }\n  \n  return (\n    <Router>\n    <div className=\"app\">     \n        <Switch>   \n          <Route exact path='/uploaded'> \n            <Uploaded uploadedUrl={uploadedUrl}/> \n          </Route>\n           <Route exact path='/loading'> \n             <Loading />\n          </Route>\n          <Route exact path='/'> \n            <Uploader setUpload={setUpload} /> \n          </Route>           \n        </Switch>\n        <div className=\"app__footer\">Jyoti ADHIAKRI @ DevChallenges.io</div>\n      </div>  \n    </Router>   \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}